<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Family Tree</title>

  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <script defer src="/web/app.js"></script>

  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      overflow: hidden;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* Fullscreen graph container */
    #graph {
      position: fixed;
      inset: 0;           /* top:0; right:0; bottom:0; left:0 */
      width: 100vw;
      height: 100vh;
    }

    /* Context menu */
    #ctxMenu {
      position: fixed;
      display: none;
      z-index: 9999;
      min-width: 220px;
      background: #111;
      color: #fff;
      border: 1px solid #333;
      border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      padding: 8px;
      font-size: 14px;
    }

    #ctxMenu button {
      width: 100%;
      text-align: left;
      background: transparent;
      color: inherit;
      border: 0;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
    }

    #ctxMenu button:hover {
      background: rgba(255,255,255,.08);
    }

    #ctxMenu .hint {
      opacity: .7;
      font-size: 12px;
      padding: 6px 10px 2px;
    }

    #ctxMenu .sep {
      height: 1px;
      background: #2a2a2a;
      margin: 6px 0;
    }

    /* Relationship status overlay */
    #relStatus {
      position: fixed;
      top: 12px;
      right: 12px;
      z-index: 9999;
      background: #111;
      color: #fff;
      padding: 10px 12px;
      border-radius: 10px;
      font: 12px/1.3 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      box-shadow: 0 6px 20px rgba(0,0,0,.25);
      max-width: 320px;
    }
  </style>
</head>

<body>

  <!-- FULLSCREEN PLOTLY TARGET -->
  <div id="graph"></div>

  <!-- CONTEXT MENU -->
  <div id="ctxMenu">
    <div class="hint" id="ctxHint">Right-click menu</div>
    <button id="ctxAddChildOf">ðŸ”— Add CHILD_OF relationshipâ€¦</button>
    <button id="ctxAddPerson">âž• Add Personâ€¦</button>
  </div>

  <!-- STATUS OVERLAY -->
  <div id="relStatus">
    <div style="font-weight:600; margin-bottom:4px;">Relationship mode</div>
    <div id="relStatusText" style="opacity:.9;">
      Right-click a person to begin.
    </div>
    <div style="margin-top:6px; opacity:.65;">
      Tip: Press <b>Esc</b> to clear.
    </div>
  </div>

</body>
</html>
