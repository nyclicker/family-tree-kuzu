# Code has UI, DB back end 
UI is made out of html and java script files (index.html and app.js)
DB is sqlalchemy and can be access via postgress (see below)
** Warning : DB is not permanent so make sure to archive
Tree uses Plotly to draw the graph

### commit
bash:
git status
git add -A
git commit -m "comment"
git push

git tag -a v2.0 -m "Dockerized legacy renderer"
git push origin v2.0

### SQL To run SQL using postgress do the following:

bash
docker compose exec db psql -U app -d familytree 

make sure to put ";" at the end of the SQL in order to execute


Quite: \q
List tables: \dt
Describe table: \d table_name
Show connection info: \conninfo
Toggle expanded output: \x
Run a SQL script file: \i /path/to/file.sql

## Purging disk space
docker system prune # Be carefull as this deletes all data so you will need to ensure you have backup

## ARCHIVING DB
to store the db onto a sql file
bash
docker compose exec db pg_dump -U app familytree > <family_tree.sql>

to restore it:

## to run stand alone load from txt to DB using the FastAPI importer module 
bash
docker compose run --rm api python -m app.importers.import_family_tree /app/data/gezaweldeamlak.txt

## To run tests
# unit tests

# end to end tests
npm run test:e2e

## Todo
Allow Person to be edited as a new menu option when node is selected
Allow Delete of a node
When a new node is added ensure to highlight that so it it is easier to see and can be linked to a parent
Add functinoality to expert the graph to a file 
Support for Spouse/Parent relationships
Cleanup \n related data in names which was just a hack due to not having IDs.
Support for multiple family trees and users.  this will need some design work and full screen is certainly not going t owork 